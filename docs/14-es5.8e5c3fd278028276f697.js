!function(){function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var n=0;n<i.length;n++){var t=i[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"2Wme":function(n,t,o){"use strict";o.r(t),o.d(t,"ProfilePageModule",(function(){return L}));var r=o("SVse"),a=o("s7LF"),c=o("sZkV"),s=o("iInd"),l=o("vkgz"),u=o("pLZG"),b=o("lJxs"),f=o("wZ+X"),p=o("8Y7J"),v=o("9Ku7"),d=o("lyr6");function g(e,i){if(1&e){var n=p.Qb();p.Pb(0,"ion-item",3),p.Xb("click",(function(){p.nc(n);var e=i.$implicit;return p.bc(2).navigateToPlaceVisitorList(e.place_uuid)})),p.Pb(1,"ion-label"),p.Pb(2,"h2"),p.sc(3),p.Ob(),p.Pb(4,"h3"),p.sc(5),p.Ob(),p.Ob(),p.Ob()}if(2&e){var t=i.$implicit;p.Ab(3),p.tc(t.place_name),p.Ab(2),p.tc(t.place_address)}}function h(e,i){if(1&e&&(p.Pb(0,"ion-list"),p.Pb(1,"ion-list-header"),p.sc(2," Places "),p.Ob(),p.qc(3,g,6,2,"ion-item",2),p.Ob()),2&e){var n=p.bc();p.Ab(3),p.hc("ngForOf",n.placeList)}}var P,m,O,k=[{path:"",component:(P=function(){function n(i,t,o,r){e(this,n),this.router=i,this.activatedRoute=t,this.authenticationService=o,this.placeAdminService=r,this.placeList=[],this.refreshWorkaroundFreshSignIn(i),this.setupPlaces()}var t,o,r;return t=n,(o=[{key:"refreshWorkaroundFreshSignIn",value:function(e){var i,n,t,o=null===(n=null===(i=e.getCurrentNavigation())||void 0===i?void 0:i.extras.state)||void 0===n?void 0:n.isSignedIn;console.log("ProfilePage -> refreshWorkaroundFreshSignIn -> isSignedIn",o);var r=null===(t=e.getCurrentNavigation())||void 0===t?void 0:t.extras.state;console.log("ProfilePage -> refreshWorkaroundFreshSignIn -> state",r),(null==r?void 0:r.isFirstSignInTriggerRefreshWorkaroundBugPublicPlaceList)&&location.reload()}},{key:"setupPlaces",value:function(){var e=this;this.placeAdminService.getAdminPlaceListByAuthPermissions().pipe(Object(l.a)((function(e){console.log("ProfilePage -> constructor -> placesQueryResultErrors",e.errors)})),Object(u.a)((function(e){var i;return Object(f.a)(null===(i=e.data)||void 0===i?void 0:i.place)})),Object(b.a)((function(e){return e.data.place})),Object(l.a)((function(i){e.placeList=i}))).subscribe()}},{key:"ngOnInit",value:function(){}},{key:"navigateToPlaceVisitorList",value:function(e){this.router.navigate(["place",e,"visitors-list"])}}])&&i(t.prototype,o),r&&i(t,r),n}(),P.\u0275fac=function(e){return new(e||P)(p.Kb(s.g),p.Kb(s.a),p.Kb(v.a),p.Kb(d.a))},P.\u0275cmp=p.Eb({type:P,selectors:[["app-profile"]],decls:6,vars:3,consts:[["color","cobaltblue"],[4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"]],template:function(e,i){1&e&&(p.Pb(0,"ion-header"),p.Pb(1,"ion-toolbar",0),p.Pb(2,"ion-title"),p.sc(3),p.Ob(),p.Ob(),p.Ob(),p.Pb(4,"ion-content"),p.qc(5,h,4,1,"ion-list",1),p.Ob()),2&e&&(p.Ab(3),p.vc(" ",i.placeList&&i.placeList[0]&&i.placeList[0].place_name?i.placeList[0].place_name+"'s":"Your"," COVIDSafe Place",i.placeList.length>1?"s":""," "),p.Ab(2),p.hc("ngIf",i.placeList.length>0))},directives:[c.n,c.C,c.B,c.i,r.m,c.w,c.x,r.l,c.q,c.v],styles:[""]}),P)}],y=((O=function i(){e(this,i)}).\u0275mod=p.Ib({type:O}),O.\u0275inj=p.Hb({factory:function(e){return new(e||O)},imports:[[s.i.forChild(k)],s.i]}),O),L=((m=function i(){e(this,i)}).\u0275mod=p.Ib({type:m}),m.\u0275inj=p.Hb({factory:function(e){return new(e||m)},imports:[[r.c,a.g,c.D,y]]}),m)}}])}();