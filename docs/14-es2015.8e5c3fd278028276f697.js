(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"2Wme":function(e,t,i){"use strict";i.r(t),i.d(t,"ProfilePageModule",(function(){return v}));var n=i("SVse"),s=i("s7LF"),o=i("sZkV"),c=i("iInd"),r=i("vkgz"),a=i("pLZG"),l=i("lJxs"),b=i("wZ+X"),u=i("8Y7J"),p=i("9Ku7"),d=i("lyr6");function g(e,t){if(1&e){const e=u.Qb();u.Pb(0,"ion-item",3),u.Xb("click",(function(){u.nc(e);const i=t.$implicit;return u.bc(2).navigateToPlaceVisitorList(i.place_uuid)})),u.Pb(1,"ion-label"),u.Pb(2,"h2"),u.sc(3),u.Ob(),u.Pb(4,"h3"),u.sc(5),u.Ob(),u.Ob(),u.Ob()}if(2&e){const e=t.$implicit;u.Ab(3),u.tc(e.place_name),u.Ab(2),u.tc(e.place_address)}}function h(e,t){if(1&e&&(u.Pb(0,"ion-list"),u.Pb(1,"ion-list-header"),u.sc(2," Places "),u.Ob(),u.qc(3,g,6,2,"ion-item",2),u.Ob()),2&e){const e=u.bc();u.Ab(3),u.hc("ngForOf",e.placeList)}}const f=[{path:"",component:(()=>{class e{constructor(e,t,i,n){this.router=e,this.activatedRoute=t,this.authenticationService=i,this.placeAdminService=n,this.placeList=[],this.refreshWorkaroundFreshSignIn(e),this.setupPlaces()}refreshWorkaroundFreshSignIn(e){var t,i,n;const s=null===(i=null===(t=e.getCurrentNavigation())||void 0===t?void 0:t.extras.state)||void 0===i?void 0:i.isSignedIn;console.log("ProfilePage -> refreshWorkaroundFreshSignIn -> isSignedIn",s);const o=null===(n=e.getCurrentNavigation())||void 0===n?void 0:n.extras.state;console.log("ProfilePage -> refreshWorkaroundFreshSignIn -> state",o),(null==o?void 0:o.isFirstSignInTriggerRefreshWorkaroundBugPublicPlaceList)&&location.reload()}setupPlaces(){this.placeAdminService.getAdminPlaceListByAuthPermissions().pipe(Object(r.a)(e=>{console.log("ProfilePage -> constructor -> placesQueryResultErrors",e.errors)}),Object(a.a)(e=>{var t;return Object(b.a)(null===(t=e.data)||void 0===t?void 0:t.place)}),Object(l.a)(({data:e})=>e.place),Object(r.a)(e=>{this.placeList=e})).subscribe()}ngOnInit(){}navigateToPlaceVisitorList(e){this.router.navigate(["place",e,"visitors-list"])}}return e.\u0275fac=function(t){return new(t||e)(u.Kb(c.g),u.Kb(c.a),u.Kb(p.a),u.Kb(d.a))},e.\u0275cmp=u.Eb({type:e,selectors:[["app-profile"]],decls:6,vars:3,consts:[["color","cobaltblue"],[4,"ngIf"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"]],template:function(e,t){1&e&&(u.Pb(0,"ion-header"),u.Pb(1,"ion-toolbar",0),u.Pb(2,"ion-title"),u.sc(3),u.Ob(),u.Ob(),u.Ob(),u.Pb(4,"ion-content"),u.qc(5,h,4,1,"ion-list",1),u.Ob()),2&e&&(u.Ab(3),u.vc(" ",t.placeList&&t.placeList[0]&&t.placeList[0].place_name?t.placeList[0].place_name+"'s":"Your"," COVIDSafe Place",t.placeList.length>1?"s":""," "),u.Ab(2),u.hc("ngIf",t.placeList.length>0))},directives:[o.n,o.C,o.B,o.i,n.m,o.w,o.x,n.l,o.q,o.v],styles:[""]}),e})()}];let P=(()=>{class e{}return e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({factory:function(t){return new(t||e)},imports:[[c.i.forChild(f)],c.i]}),e})(),v=(()=>{class e{}return e.\u0275mod=u.Ib({type:e}),e.\u0275inj=u.Hb({factory:function(t){return new(t||e)},imports:[[n.c,s.g,o.D,P]]}),e})()}}]);